<!DOCTYPE html>
<html>
<head>
  <title>Portfolio</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    body, h1, h2, h3, h4, h5, h6 {font-family: "Montserrat", sans-serif}
    .w3-row-padding img {margin-bottom: 12px}
    .w3-sidebar {width: 120px; background: #222;}
    #main {margin-left: 120px}
    @media only screen and (max-width: 600px) {#main {margin-left: 0}}
    .project-container {
      background-color: #444;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 24px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .project-container:hover {
      transform: translateY(-10px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.3);
    }
    .project-img {
      border-radius: 8px;
      margin-bottom: 16px;
    }
    .project-link {
      text-decoration: none;
      color: #fff;
      font-size: 1.25em;
    }
    .project-link:hover {
      color: #ddd;
    }
    .project-title {
      margin-top: 0;
      color: #fff;
    }
    .w3-bar-item.active {
      background-color: black !important;
    }
    /* Additional styles for button state change */
    #submit-button {
      transition: background-color 0.3s, color 0.3s;
    }
    .w3-green {
      background-color: #4CAF50 !important;
      color: white !important;
    }
    .pricing-container {
      background-color: #444;
      padding: 16px;
      border-radius: 8px;
      margin-bottom: 24px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      transition: transform 0.3s, box-shadow 0.3s;
      color: #fff;
    }
    .pricing-container:hover {
      transform: translateY(-10px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.3);
    }
    .pricing-title {
      margin-top: 0;
      color: #fff;
    }
  </style>
</head>
<body class="w3-black">

<!-- Icon Bar (Sidebar - hidden on small screens) -->
<nav class="w3-sidebar w3-bar-block w3-small w3-hide-small w3-center">
  <img src="images/Logo.png" style="width:100%">
  <a href="#about" class="w3-bar-item w3-button w3-padding-large w3-hover-black active" id="about-link">
    <i class="fa fa-user-o w3-xxlarge"></i>
    <p>ABOUT</p>
  </a>
  <a href="#projects" class="w3-bar-item w3-button w3-padding-large w3-hover-black" id="projects-link">
    <i class="fa fa-briefcase w3-xxlarge"></i>
    <p>PROJECTS</p>
  </a>
  <a href="#packages" class="w3-bar-item w3-button w3-padding-large w3-hover-black" id="package-link">
    <i class="fa fa-handshake-o w3-xxlarge"></i>
    <p>DEALS</p>
  </a>
  <a href="#donations" class="w3-bar-item w3-button w3-padding-large w3-hover-black" id="donations-link">
    <i class="fa fa-money w3-xxlarge"></i>
    <p>DONATIONS</p>
  </a>
  <a href="#contact" class="w3-bar-item w3-button w3-padding-large w3-hover-black" id="contact-link">
    <i class="fa fa-envelope-o w3-xxlarge"></i>
    <p>CONTACT</p>
  </a>
</nav>

<!-- Navbar on small screens (Hidden on medium and large screens) -->
<div class="w3-top w3-hide-large w3-hide-medium" id="myNavbar">
  <div class="w3-bar w3-black w3-opacity w3-hover-opacity-off w3-center w3-small">
    <a href="#about" class="w3-bar-item w3-button" style="width:25% !important">ABOUT</a>
    <a href="#projects" class="w3-bar-item w3-button" style="width:25% !important">PROJECTS</a>
    <a href="#packages" class="w3-bar-item w3-button" style="width:25% !important">DEALS</a>
    <a href="#donations" class="w3-bar-item w3-button" style="width:25% !important">DONATIONS</a>
    <a href="#contact" class="w3-bar-item w3-button" style="width:25% !important">CONTACT</a>
  </div>
</div>

<!-- Page Content -->
<div class="w3-padding-large" id="main">
  <!-- Header/Home -->
  <header class="w3-container w3-padding-32 w3-center w3-black" id="home">
    <h1 class="w3-jumbo"><span class="w3-hide-small"></span> Mr.Positions</h1>
    <p>Web Designer</p>
  </header>

  <!-- About Section -->
  <div class="w3-content w3-justify w3-text-grey w3-padding-64" id="about">
    <h2 class="w3-text-light-grey">Introduction</h2>
    <hr style="width:200px" class="w3-opacity">
    <p>Passionate, conscientious and hard-working individual who will diligently fulfill any agreed upon task to the utter satisfaction of his client(s). Currently capable of designing and adorning websites at an adequate level. The purpose of this portfolio is to showcase some of my work.</p>
    <h3 class="w3-padding-16 w3-text-light-grey">Skills</h3>
    <p class="w3-wide">Web Design</p>
    <div class="w3-white">
      <div class="w3-dark-grey" style="height:28px;width:65%"></div>
    </div>
  </div><br>

  <!-- Projects Section -->
  <div class="w3-padding-64 w3-content" id="projects">
    <h2 class="w3-text-light-grey">Work Display</h2>
    <hr style="width:200px" class="w3-opacity">
    <h3 class="w3-padding-16 w3-text-light-grey">Websites</h3>
    <div class="w3-row-padding w3-center">
      <div class="w3-quarter w3-section project-container">
        <img src="images/RFighter.png" style="width:100%" class="project-img">
        <h3 class="project-title"><a href="https://mrpositions.github.io/Webcomic_Layout/index.html" class="project-link">Webcomic</a></h3>
      </div>
      <div class="w3-quarter w3-section project-container">
        <img src="images/SiteToBehold.png" style="width:100%" class="project-img">
        <h3 class="project-title"><a href="https://mrpositions.github.io/SiteToBehold/" class="project-link">Site To Behold</a></h3>
      </div>
    </div>
  </div>
  <!-- End Work Display Section -->

  <!-- Grid for pricing tables -->
  <div class="w3-padding-64 w3-content" id="packages">
    <h2 class="w3-text-light-grey">Packages</h2>
    <hr style="width:200px" class="w3-opacity">
    <p></p>
    <div class="w3-row-padding" style="margin:0 -16px">
      <div class="w3-half w3-margin-bottom">
        <ul class="w3-ul w3-white w3-center w3-opacity w3-hover-opacity-off">
          <li class="w3-dark-grey w3-xlarge w3-padding-32">Basic</li>
          <li class="w3-padding-16">Three Pages</li>
          <li class="w3-padding-16">Standard Design</li>
          <li class="w3-padding-16">Minimal Functionality</li>
          <li class="w3-padding-16">Basic Instructions</li>
          <li class="w3-padding-16">
            <h2>$ 3</h2>
            <span class="w3-opacity">per page</span>
          </li>
          <li class="w3-light-grey w3-padding-24">
            <a href="YOUR_PAYONEER_DONATION_LINK" class="w3-button w3-white w3-padding-large w3-hover-black">Total $9</a>
          </li>
        </ul>
      </div>
      <div class="w3-half">
        <ul class="w3-ul w3-white w3-center w3-opacity w3-hover-opacity-off">
          <li class="w3-dark-grey w3-xlarge w3-padding-32">Pro</li>
          <li class="w3-padding-16">Three Pages</li>
          <li class="w3-padding-16">Quality Design</li>
          <li class="w3-padding-16">Complete Functionality</li>
          <li class="w3-padding-16">Descriptive User Guidelines</li>
          <li class="w3-padding-16">
            <h2>$ 5</h2>
            <span class="w3-opacity">per page</span>
          </li>
          <li class="w3-light-grey w3-padding-24">
            <a href="YOUR_PAYONEER_DONATION_LINK" class="w3-button w3-white w3-padding-large w3-hover-black">Total $15</a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Donations Section -->
  <div class="w3-padding-64 w3-content w3-text-grey" id="donations">
    <h2 class="w3-text-light-grey">Support Me</h2>
    <hr style="width:200px" class="w3-opacity">
    <p>As an aspiring, young, committed web designer, I would be grateful for all the assistance I can get.</p>
    <p>If you appreciate my work and would like to make any contributions, please click on the link provided below:</p>
    <p><a href="YOUR_PAYONEER_DONATION_LINK" class="w3-button w3-light-grey w3-padding-large" target="_blank">
      <i class="fa fa-coffee"></i> Buy Me a Coffee
    </a></p>
  </div>
  <!-- End Donations Section -->

  <!-- Contact Section -->
  <div class="w3-padding-64 w3-content w3-text-grey" id="contact">
    <h2 class="w3-text-light-grey">Contact Info</h2>
    <hr style="width:200px" class="w3-opacity">
    <div class="w3-section">
      <p><i class="fa fa-map-marker fa-fw w3-text-white w3-xxlarge w3-margin-right"></i> Sindh, Pakistan</p>
      <p><i class="fa fa-phone fa-fw w3-text-white w3-xxlarge w3-margin-right"></i> Phone: +92 330 3593322</p>
      <p><i class="fa fa-envelope-open fa-fw w3-text-white w3-xxlarge w3-margin-right"></i> Email: dotasmurf4444@gmail.com</p>
    </div><br>
    <p>Send me a message, stating your purpose for doing so along with explicit details for the kind of project you require:</p>
    <form id="contact-form">
      <p><input class="w3-input w3-padding-16" type="text" placeholder="Name" required name="name"></p>
      <p><input class="w3-input w3-padding-16" type="email" placeholder="Email" required name="email"></p>
      <p><input class="w3-input w3-padding-16" type="text" placeholder="Subject" required name="subject"></p>
      <p><textarea class="w3-input w3-padding-16" placeholder="Message" required name="message"></textarea></p>
      <p>
        <button id="submit-button" class="w3-button w3-light-grey w3-padding-large" type="submit">
          <i class="fa fa-paper-plane"></i> SEND MESSAGE
        </button>
      </p>
    </form>
  </div>
  <!-- End Contact Section -->

  <!-- Footer -->
  <footer class="w3-content w3-padding-64 w3-text-grey w3-xlarge">
    <i class="fa fa-facebook-official w3-hover-opacity"></i>
    <i class="fa fa-instagram w3-hover-opacity"></i>
    <a href="https://www.fiverr.com/haidersadiq4444?up_rollout=true" target="_blank">
      <img src="images/Fiverr.png" alt="Fiverr" class="w3-hover-opacity" style="width:48px;height:48px;">
    </a>
    <i class="fa fa-pinterest-p w3-hover-opacity"></i>
    <i class="fa fa-twitter w3-hover-opacity"></i>
    <i class="fa fa-linkedin w3-hover-opacity"></i>
    <p class="w3-medium">Powered by <a href="#" target="_blank" class="w3-hover-text-green">Mr.Positions</a></p>
  </footer>
  <!-- END PAGE CONTENT -->
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const navItems = document.querySelectorAll('.w3-sidebar .w3-bar-item');
    const sections = document.querySelectorAll('#about, #projects, #packages, #donations, #contact');
    const sidebar = document.querySelector('.w3-sidebar');
    const initialLink = document.querySelector('#about-link');

    function removeActiveClasses() {
      navItems.forEach(item => item.classList.remove('active'));
    }

    function setActiveLink(id) {
      removeActiveClasses();
      const activeLink = document.querySelector(`.w3-sidebar a[href="#${id}"]`);
      if (activeLink) {
        activeLink.classList.add('active');
      }
    }

    navItems.forEach(item => {
      item.addEventListener('click', function() {
        removeActiveClasses();
        this.classList.add('active');
      });
    });

    window.addEventListener('scroll', function() {
      let current = '';
      sections.forEach(section => {
        const sectionTop = section.offsetTop - 80; // Offset for sticky navbar
        const sectionHeight = section.clientHeight;
        if (pageYOffset >= sectionTop && pageYOffset <= sectionTop + sectionHeight) {
          current = section.getAttribute('id');
        }
      });

      setActiveLink(current);
    });

    // Initial setup
    window.scrollTo({ top: 0, behavior: 'smooth' });
    setActiveLink('about');
  });

  // New script for handling form submission and button feedback
  document.addEventListener("DOMContentLoaded", function() {
    const form = document.getElementById('contact-form');
    const submitButton = document.getElementById('submit-button');

    form.addEventListener('submit', function(event) {
      event.preventDefault(); // Prevent default form submission

      const formData = new FormData(form);
      const data = {
        name: formData.get('name'),
        email: formData.get('email'),
        subject: formData.get('subject'),
        message: formData.get('message')
      };

      fetch('https://portfolio-4zaw.vercel.app/send-email', { // Update with your actual endpoint
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
      })
      .then(response => {
        if (!response.ok) {
          return response.json().then(errorData => {
            throw new Error(`Server responded with error: ${errorData.message}`);
          });
        }
        return response.json();
      })
      .then(data => {
        if (data.message === 'Email sent') {
          // Update button text and style
          submitButton.innerHTML = '<i class="fa fa-check"></i> MESSAGE SENT';
          submitButton.classList.remove('w3-light-grey');
          submitButton.classList.add('w3-green');

          // Reset after 1.5 seconds
          setTimeout(() => {
            submitButton.innerHTML = '<i class="fa fa-paper-plane"></i> SEND MESSAGE';
            submitButton.classList.remove('w3-green');
            submitButton.classList.add('w3-light-grey');
            form.reset(); // Reset the form fields
          }, 1500);
        } else {
          alert('There was an issue sending your message. Please try again.');
        }
      })
      .catch(error => {
        console.error('Error:', error);
        alert(`There was an issue sending your message. Please try again. Error: ${error.message}`);
      });
    });
  });
</script>
</body>
</html>